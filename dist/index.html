<!DOCTYPE html><html lang="en" dir="ltr"><head><meta charset="utf-8"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Search USAF regulations (unofficial)</title><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/><meta name="author" content="//that.pub/humans.txt"/><link rel="shortcut icon" href="//that.pub/img/favicon.ico" type="image/x-icon"/><link rel="apple-touch-icon" href="//that.pub/img/apple-touch-icon.png"/><script type="text/javascript">var rootElement = document.documentElement||document.body.parentNode;
      WebFontConfig={google:{families:["Lato:400,700:latin"]}};(function(){var a=document.createElement("script");a.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";a.type="text/javascript";a.async="true";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script><style>a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:'';content:none}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}a{background-color:transparent}a,a:active,a:hover{outline:0}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}small{font-size:75%}svg:not(:root){overflow:hidden}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}input,optgroup,textarea{color:inherit;font:inherit;margin:0}html input[disabled]{cursor:default}input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}.hidden{display:none!important;visibility:hidden}.visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.invisible{visibility:hidden}.clearfix{*zoom:1}.clearfix:after{clear:both}.clearfix:after,.clearfix:before{content:" ";display:table}#search-restore{display:block;position:fixed;z-index:3;top:1rem;width:3.2rem;height:3.2rem;right:1rem}@media only screen and (min-width:1076px){#search-restore{right:calc((100% - 864px)/2 - 4.2rem)}}#search-restore svg{border-radius:4px;background-color:#fefefe;fill:#ff9000!important;stroke:#ff9000!important}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#search-restore svg{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}#search-restore #ico{padding:.5rem;border:2px solid #ff9000}#search-restore #x{padding:.2rem;border:2px solid transparent}#search-restore:hover svg{border-color:#fefefe}#search-restore:hover svg#ico,#search-restore:hover svg#x{background-color:#ff9000;fill:#fefefe!important;stroke:#fefefe!important}#infini-check{position:fixed;display:block;top:1rem;width:3.2rem;height:3.2rem;left:1rem}@media only screen and (min-width:1076px){#infini-check{left:calc((100% - 864px)/2 - 4.2rem)}}#infini-check input{display:none}#infini-label{display:block;cursor:pointer;z-index:3;width:3.2rem;height:3.2rem}#infini-label svg{position:absolute;left:0;top:0}#infini-label svg path{fill:#ff9000}#infini-label svg rect{fill:#fefefe!important;stroke:#ff9000!important}#infini-label:hover svg path{fill:#fefefe}#infini-label:hover svg rect{fill:#888!important;stroke:#fefefe!important}#infini-label.disabled svg path{fill:#888}#infini-label.disabled svg rect{fill:#fefefe!important;stroke:#888!important}#infini-label.disabled:hover svg path{fill:#fefefe}#infini-label.disabled:hover svg rect{fill:#ff9000!important;stroke:#fefefe!important}*,:after,:before{box-sizing:border-box!important}html{overflow-y:scroll;-webkit-font-smoothing:subpixel-antialiased;-moz-osx-font-smoothing:greyscale;*zoom:1;font-size:100%}body,html{min-height:100%;min-width:100%}::-moz-selection{background:#aaa;color:#fefefe;text-shadow:none}::selection{background:#aaa;color:#fefefe;text-shadow:none}body,button,html,input,select,textarea{color:#666;outline:0;font-weight:400}body{font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-size:15px;line-height:1.4;background:#f5f5f5}a{color:#0074b2;text-decoration:none;border-bottom:1px solid transparent}.clickable{-ms-touch-action:manipulation;touch-action:manipulation}q{position:relative;quotes:"“" "”" "‘" "’"}q:before{content:open-quote}q:after{content:close-quote}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1rem 0;padding:0}#wrap{width:100%;margin:auto}#page,#wrap{position:relative}#page{box-shadow:0 0 3px rgba(0,0,0,.25);border-radius:4px;background-color:#fefefe;top:0;padding:2rem 2rem 8rem;margin:0 auto 3rem;border-right:1px solid #f5f5f5;border-left:1px solid #f5f5f5;width:80%}#page:after,#page:before{position:absolute;z-index:-1;bottom:26px;box-shadow:0 28px 8px rgba(0,0,0,.25);content:"";height:28px;width:48%}#page:before{left:2%;-webkit-transform:rotate(-3deg);transform:rotate(-3deg)}#page:after{right:2%;-webkit-transform:rotate(3deg);transform:rotate(3deg)}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#page{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}@media only screen and (min-width:480px){#page{width:85%}}@media only screen and (min-width:640px){#page{width:90%;margin-bottom:4rem;max-width:864px}}@media only screen and (min-width:960px){#page{width:100%}}#loader{-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out;opacity:0;position:fixed;z-index:-2;background:#fefefe;top:0;bottom:0;left:0;right:0;width:100%;height:100%}#loader,#loader .spinner{display:none}#loader.loading{-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out;display:block;z-index:4;opacity:1}#loader.loading .spinner{display:block}.spinner{width:2rem;height:2rem}.spinner,.spinner .blob{-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);position:absolute;top:50%;left:50%}.spinner .blob{border-radius:50%;border:2px solid #00a5ff;width:10px;height:10px}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){.spinner .blob{border-left-top-radius:50%;border-right-top-radius:50%;border-right-bottom-radius:50%;border-left-bottom-radius:50%}}.spinner .blob.top{top:0;-webkit-animation:c 1s infinite ease-in;animation:c 1s infinite ease-in}.spinner .blob.bottom{top:100%;-webkit-animation:a 1s infinite ease-in;animation:a 1s infinite ease-in}.spinner .blob.left{left:0;-webkit-animation:b 1s infinite ease-in;animation:b 1s infinite ease-in}.spinner .move-blob{background:#000;top:0;-webkit-animation:d 1s infinite ease-in;animation:d 1s infinite ease-in}@-webkit-keyframes a{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@keyframes a{25%,50%,75%{top:50%;left:100%}to{top:0;left:50%}}@-webkit-keyframes b{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@keyframes b{25%{top:50%;left:0}50%,to{top:100%;left:50%}}@-webkit-keyframes c{50%{top:0;left:50%}75%,to{top:50%;left:0}}@keyframes c{50%{top:0;left:50%}75%,to{top:50%;left:0}}@-webkit-keyframes d{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}@keyframes d{0%,to{top:0;left:50%}25%{top:50%;left:100%}50%{top:100%;left:50%}75%{top:50%;left:0}}#search-wrap{-webkit-transform:translateZ(0);transform:translateZ(0);position:fixed;display:table;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;max-width:100%;margin:0;width:100%;height:100%}#search-wrap.emerge,#search-wrap.failed{-webkit-transform:translateZ(0);transform:translateZ(0);pointer-events:auto;z-index:3;opacity:1;width:100%;height:100%}#search-wrap.failed{color:#6d29cc}#search{position:relative;display:table-cell;vertical-align:middle;text-align:left;background-color:#fefefe;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;padding:2rem;margin-left:auto;margin-right:auto}@media only screen and (min-width:480px){#search{padding-left:4rem;padding-right:4rem}}@media only screen and (min-width:640px){#search{padding-left:30%;padding-right:30%}}#search-title{position:relative;color:#ff9000;text-align:left;font-family:HelveticaNeue-Light,Helvetica Neue Light,Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-size:4rem;line-height:1;width:100%;padding:1rem 0}#search-title small{margin-top:2rem;margin-bottom:1rem;color:#888;font-size:1.6rem;text-align:right;float:right}@media only screen and (min-width:640px){#search-title{font-size:5rem;padding-left:1rem;padding-right:1rem}}@media only screen and (min-device-width:375px) and (max-device-width:667px) and (-webkit-min-device-pixel-ratio:2) and (orientation:landscape){#search-title{font-size:4.5rem;padding-top:0;padding-bottom:0}}#query,#send{position:relative;clear:both;margin-left:auto;margin-right:auto;outline:0}#query{border-radius:4px;background-color:transparent;text-align:left;float:left;max-width:100%;width:100%;outline:0;border:1px solid #ff9000;color:#666;font-size:1.4rem;margin-top:3rem;margin-bottom:1.5rem;padding:.6rem}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#query{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}#query.invalidated{border-color:#976ad4;color:#6d29cc}#query.invalidated::-webkit-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#976ad4}#query.invalidated::-moz-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#976ad4}#query.invalidated:-ms-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#976ad4}@media only screen and (min-width:640px){#query{border-radius:0;border-left-color:transparent;border-right-color:transparent;border-top-color:transparent;font-size:2rem;padding:1rem}}@media only screen and (min-width:640px) and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#query{border-left-top-radius:0;border-right-top-radius:0;border-right-bottom-radius:0;border-left-bottom-radius:0}}#query::-webkit-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#ffb14c}#query::-moz-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#ffb14c}#query:-ms-input-placeholder{display:inline;width:100%;white-space:normal;opacity:.5;font-size:inherit;color:#ffb14c}#send{border-radius:4px;position:relative;display:block;background-color:#ff9000;color:#fefefe;text-align:center;border:none;margin:.4rem auto 0;padding:.4rem;border-bottom:1px solid #cc7300;border-top:1px solid #ffd399;max-width:14rem;width:calc(50% - 2rem);margin-left:0;margin-right:0;font-weight:700;font-size:2rem;padding:1rem;float:right}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#send{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}#send:active{border-bottom-color:transparent;border-top-color:#f08700;background-color:#f08700;color:#f6f6f6}@media only screen and (min-width:640px){#send{margin-left:1rem;margin-right:1rem}}#page-header{background-color:#ff9000;border-bottom:2px solid #fefefe;color:#fefefe;padding-top:3rem;padding-bottom:3rem;font-size:1rem}@media only screen and (min-width:480px){#page-header{font-size:1.2rem}}@media only screen and (min-width:640px){#page-header{font-size:1.4rem}}@media only screen and (min-width:960px){#page-header{font-size:1.8rem}}#summary{text-rendering:optimizeLegibility;font-weight:400;text-align:center;margin-left:4.5rem;margin-right:4.5rem;max-width:calc(100% - 9rem);width:100%}@media only screen and (min-width:960px){#summary{margin-left:auto;margin-right:auto;max-width:864px;width:100%}}#term{font-size:2em}#count,#term,#total{text-shadow:0 1px 1px #888;color:#fefefe;font-weight:700}#results{position:relative}#related{padding-bottom:.6rem;padding-top:.6rem;font-size:1rem}@media only screen and (min-width:480px){#related{padding-bottom:1rem;padding-top:1rem;font-size:1.2rem}}@media only screen and (min-width:640px){#related{padding-bottom:2rem;padding-top:2rem}}#related-label{display:none}#related-list{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:90%;max-width:864px;margin:0 auto;list-style:none;border:none}#related .doc{border-radius:4px;text-rendering:optimizeLegibility;cursor:default;-ms-flex-negative:1;flex-shrink:1;background-color:#fefefe;color:#ffb14c;text-align:center;font-weight:700;font-size:1em;border:1px solid;margin:.4rem;padding:.2rem .4rem}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#related .doc{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}@media only screen and (min-width:640px){#related .doc{padding:.3rem .45rem}}@media only screen and (min-width:960px){#related .doc{padding:.4rem .6rem}}#related .doc.pretty{color:#ff9000}.content{color:#aaa;font-size:1.2rem;padding-bottom:3rem;padding-top:3rem;position:relative}.content.pretty .text{padding-left:2rem;border-left:3px solid}.content:nth-child(n){border-bottom:1px solid hsla(0,0%,78%,.25)}.content:last-child{border-bottom:none}.content:first-child{padding-top:0}@media only screen and (min-width:640px){.content:first-child{padding-top:2rem}}@media only screen and (min-width:640px){.content{padding-left:3rem;padding-right:3rem}}.text{text-rendering:optimizeLegibility;position:relative;color:#666;line-height:1.7;clear:both;overflow:hidden}.text em{color:#00a5ff;font-style:normal!important;font-weight:700}.text q{padding-bottom:.2rem;padding-top:.2rem;padding-left:1rem;margin-bottom:.8rem;display:block;color:#888;border-left:4px solid #f5f5f5}.text q:after,.text q:before{position:relative}.text .combined,.text .parts{-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out;margin-bottom:1rem;display:block}.text .combined{position:absolute;top:0;left:0;opacity:0;z-index:0}.text .parts{position:relative;opacity:1;z-index:1}.text.opened .combined,.text.opened .parts{-webkit-transition:opacity .15s ease-out;transition:opacity .15s ease-out}.text.opened .combined{position:relative;opacity:1;z-index:1}.text.opened .parts{position:absolute;opacity:0;top:0;left:0;z-index:0}@media only screen and (min-width:640px){.text{font-size:1.4rem;margin-left:auto;margin-right:auto}}@media only screen and (min-width:960px){.text{font-size:1.6rem}}.reveal-text{position:relative;display:inline-block;background-color:#00a5ff;color:#fefefe;font-size:.8em;border:1px solid;padding:.2rem .6rem;font-weight:700;font-family:Lato,Open Sans,Roboto,Helvetica Neue,sans-serif;margin:1rem 0}.opened .reveal-text{color:#00a5ff;background-color:#fefefe}.meta{position:relative;color:#666;font-family:Lato,Open Sans,Roboto,Helvetica Neue,sans-serif;font-size:.8em;line-height:1.7;max-width:100%;width:100%;margin-top:1rem}.content:hover .meta .info .pub,.content:hover .meta .info .title{color:#000}.details{text-align:left;float:left}.details,.info{overflow:hidden;max-width:50%;margin-left:0;margin-right:0}.info{position:relative;color:inherit;text-align:right;float:right}.info .pub,.info .title{border-bottom:1px solid transparent}.info:hover .pub,.info:hover .title{border-bottom-color:#000}#more-content{border-radius:4px;position:relative;display:block;background-color:#00a5ff;color:#fefefe;text-align:center;border:none;margin:.4rem auto 0;padding:1.25rem;border-bottom:1px solid #0084cc;border-top:1px solid #99dbff;position:absolute;font-family:Lato,Open Sans,Roboto,Helvetica Neue,sans-serif;font-size:2.5rem;bottom:2rem;max-width:90%;width:100%;left:5%;right:5%}@media screen and (device-width:320px) and (device-height:640px) and (-webkit-device-pixel-ratio:3){#more-content{border-left-top-radius:4px;border-right-top-radius:4px;border-right-bottom-radius:4px;border-left-bottom-radius:4px}}#more-content:active{border-bottom-color:transparent;border-top-color:#009bf0;background-color:#009bf0;color:#f6f6f6}</style></head><body><!--[if lte IE 9]><p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p><![endif]--><div id="loader"><div class="spinner"><div class="blob top"></div><div class="blob bottom"></div><div class="blob left"></div><div class="blob move-blob"></div></div></div><div id="search-wrap" class="emerge"><div id="search"><header id="search-title">Find a rule<br/><small>then go break it.</small></header><input class="needsclick" id="query" type="search" name="query" placeholder="Ex: dawg msme sgp" autofocus tabindex="0" autocomplete="off" data-control="input"/><label class="needsclick" id="message" for="query"></label><noscript><p>Clicking this button is just gonna disappoint you.</p></noscript><a href="#page" class="clickable" id="send" role="button"><span class="action">go</span></a></div></div><a href="#" id="search-restore" class="clickable" data-control="button"><svg xmlns="//www.w3.org/2000/svg" enable-background="new 0 0 512 512" height="48" id="ico" version="1.2" viewBox="0 0 512 512" width="48" xml:space="preserve" style="display:none"><path d="M498 498c-19 19-49 19-68 0l-85-85c-35 22-76 36-121 36C100 449 0 348 0 224S100 0 224 0c124 0 224 100 224 224 0 45-13 86-36 121l85 85C517 449 517 479 498 498zM224 64c-89 0-160 72-160 160 0 89 72 160 160 160 89 0 160-72 160-160C385 136 313 64 224 64z"/></svg> <svg xmlns:svg="//www.w3.org/2000/svg" xmlns="//www.w3.org/2000/svg" version="1.1" viewBox="0 0 48 48" width="48" height="48" id="x" style="display:none"><g transform="translate(0,-1004)"><g transform="matrix(1,0,0,0.9991,0.0022,0.9927)"><rect width="44.64" height="21.56" x="731.8" y="693.8" transform="matrix(0.702,0.7121,-0.7173,0.6968,0,0)" class="s0"/><rect width="44.65" height="21.56" x="676.6" y="-759.5" transform="matrix(-0.7119,0.7022,-0.6966,-0.7175,0,0)" class="s0"/></g></g></svg></a><div id="wrap"><div id="page-header"><div id="summary"><p>showing <span id="count"></span> of <span id="total"></span> results for</p><q id="term"></q></div></div><div id="related"><h2 id="related-label" class="label">Related Documents</h2><ul id="related-list"></ul></div><div id="page"><div id="results"></div><a href="#" class="more content clickable" role="button" id="more-content"><span class="action">more, please</span></a></div></div><div id="infini-check"><label for="infini-scroll" class="enabled clickable" id="infini-label" title="Disable infinite scroll"><svg xmlns:svg="//www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" width="48" height="48" id="refresh"><g transform="translate(0,-1004)"><rect width="46.2" height="46.06" ry="1.894" x="0.959" y="1005" style="fill:none;stroke-linejoin:round;stroke-width:1.922;stroke:#000"/><path d="m27.17 1045c2.19-3 3.83-7 3.83-11 0-1-0.42-1-2.81-1-3.37 0-3.57-1-0.7-4 0 0 0 0 2.4-3 0 0 1.43-2 2.53-3 1.82-2 1.82-2 3.63 0 1.59 2 3.74 5 4.93 6 2.87 3 2.67 4-0.7 4-2.36 0-2.82 0-2.82 1 0 5-5.34 10-10.11 13-2.35 1-2.35 1-0.18-2zM12.8 1034c-1.44-2-1.54-2-1.54-2-1.24-2-3.112-4-3.112-4-2.871-3-2.671-4 0.697-4 2.365 0 2.825 0 2.825-1 0-5 4.09-10 10.68-13 4.35-1 2.83-1-0.39 2-1.81 3-3.83 7-3.84 11 0 1 0.43 1 2.82 1 3.37 0 3.57 1 0.7 4 0 0 0 0-3.12 4-0.62 1 0 0-1.53 2-0.85 1-1.79 2-2.1 2-0.31 0-1.25-1-2.09-2z" fill="#333"/></g></svg> <input type="checkbox" id="infini-scroll" name="infini-scroll" checked="checked" data-control="setting"/></label></div><script>"use strict";function addEvent(e,t,n){return e.addEventListener(t,n,!1)}function swapClass(e,t,n){var r=e.className;if(""!==t){if(n.test(r))return!1;e.className+=" "+t}else e.className=r.replace(n,"")}function querySetup(e){return e?function(t){return{term:e,pubName:t.extract,noPubName:t.removed}}(e.toPubName()):{term:"",pubName:"",noPubName:""}}function upperOutlier(e){var t=e.concat();t.sort(function(e,t){return e-t});var n=t[Math.floor(t.length/4)],r=t[Math.ceil(.75*t.length)];return r+1.5*(r-n)}function App(){var e=function(){app.loading.now!==!0&&swapClass(app.loader_,"loading",regLoad),app.submitQuery("content","more",document.cookie.placeContent||app.placeContent,null)};return{fragment:document.createDocumentFragment(),loader_:document.getElementById("loader"),searchWrap_:document.getElementById("search-wrap"),query_:document.getElementById("query"),send_:document.getElementById("send"),message_:document.getElementById("message"),wrap_:document.getElementById("wrap"),page_:document.getElementById("page"),searchRestore_:document.getElementById("search-restore"),searchIcon_:document.getElementById("ico"),xIcon_:document.getElementById("x"),pageHeader_:document.getElementById("page-header"),related_:document.getElementById("related-list"),results_:document.getElementById("results"),term_:document.getElementById("term"),count_:document.getElementById("count"),total_:document.getElementById("total"),moreContent_:document.getElementById("more-content"),infiniLabel_:document.getElementById("infini-label"),infiniScroll_:document.getElementById("infini-scroll"),placeContent:document.cookie.placeContent||"",placeMeta:document.cookie.placeMeta||"",infiniScroll:!0,loading:{now:!1,stillMore:!1,currentHeight:0},bodyRect:null,relatedRect:null,resultsRect:null,relatedOffsetTop:null,stickyBarPosition:null,pos:0,term:"",scoresContent:[],scoresRelatives:[],colors:{},isSearchBoxOpen:null,isFailure:null,isDone:!1,getContent:e}}!function(e){function t(){var t=this;t.reads=[],t.writes=[],t.raf=s.bind(e)}function n(e){e.scheduled||(e.scheduled=!0,e.raf(r.bind(null,e)))}function r(e){var t,r=e.writes,a=e.reads;try{o(a),o(r)}catch(e){t=e}if(e.scheduled=!1,(a.length||r.length)&&n(e),t){if(!e.catch)throw t;e.catch(t)}}function o(e){for(var t;t=e.shift();)t()}function a(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)};t.prototype={constructor:t,measure:function(e,t){var r=t?e.bind(t):e;return this.reads.push(r),n(this),r},mutate:function(e,t){var r=t?e.bind(t):e;return this.writes.push(r),n(this),r},clear:function(e){return a(this.reads,e)||a(this.writes,e)},extend:function(e){if("object"!=typeof e)throw Error("expected object");var t=Object.create(this);return i(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var c=e.fastdom=e.fastdom||new t;"f"==(typeof define)[0]?define(function(){return c}):"o"==(typeof module)[0]&&(module.exports=c)}(this),!function(e){function t(){var t=this;t.reads=[],t.writes=[],t.raf=s.bind(e)}function n(e){e.scheduled||(e.scheduled=!0,e.raf(r.bind(null,e)))}function r(e){var t,r=e.writes,a=e.reads;try{o(a),o(r)}catch(e){t=e}if(e.scheduled=!1,(a.length||r.length)&&n(e),t){if(!e.catch)throw t;e.catch(t)}}function o(e){for(var t;t=e.shift();)t()}function a(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}function i(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}var s=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)};t.prototype={constructor:t,measure:function(e,t){var r=t?e.bind(t):e;return this.reads.push(r),n(this),r},mutate:function(e,t){var r=t?e.bind(t):e;return this.writes.push(r),n(this),r},clear:function(e){return a(this.reads,e)||a(this.writes,e)},extend:function(e){if("object"!=typeof e)throw Error("expected object");var t=Object.create(this);return i(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var c=e.fastdom=e.fastdom||new t;"f"==(typeof define)[0]?define(function(){return c}):"o"==(typeof module)[0]&&(module.exports=c)}(this),function(){/**
	 * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
	 *
	 * @codingstandard ftlabs-jsv2
	 * @copyright The Financial Times Limited [All Rights Reserved]
	 * @license MIT License (see LICENSE.txt)
	 */
function e(t,r){function o(e,t){return function(){return e.apply(t,arguments)}}var a;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,c=0,l=i.length;l>c;c++)s[i[c]]=o(s[i[c]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,r):o.call(t,e,n,r)},t.addEventListener=function(e,n,r){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):o.call(t,e,n,r)}),"function"==typeof t.onclick&&(a=t.onclick,t.addEventListener("click",function(e){a(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),i=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,a;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,i,s,c,l,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(l=e.changedTouches[0],u=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-i>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return r&&!o&&(c=u.fastClickScrollParent,c&&c.fastClickLastScrollTop!==c.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,o,a;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(i&&(o=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),o[1]>=10&&o[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(a=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],a>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),function(){function e(e){return"string"==typeof e?e:null==e?"":e+""}function t(e){return q[e]}function n(e){return"\\"+W[e]}function r(e){return e&&"object"==typeof e||!1}function o(e){if(r(e)&&!ce(e)){if(e instanceof LodashWrapper)return e;if(K.call(e,"__wrapped__"))return new LodashWrapper(e.__wrapped__,e.__chain__,arrayCopy(e.__actions__))}return new LodashWrapper(e)}function a(e,t,n,r){return void 0!==e&&K.call(r,n)?e:t}function i(e,t,n){var r=le(t);if(!n){r||(r=e,e={}),n=-1;for(var o=r.length;++n<o;){var a=r[n];e[a]=t[a]}return e}for(o=-1,a=r.length;++o<a;){var i=r[o],s=e[i],c=n(s,t[i],i,e,t);(c===c?c===s:s!==s)&&(void 0!==s||i in e)||(e[i]=c)}return e}function s(e,t){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e[t[n]];return o}function c(e,t){return e=+e,t=null==t?ae:t,e>-1&&0==e%1&&t>e}function l(e,t,n){if(!f(n))return!1;var r=typeof t;return"number"==r?(r=n.length,r=u(r)&&c(t,r)):r="string"==r&&t in n,r&&n[t]===e}function u(e){return"number"==typeof e&&e>-1&&0==e%1&&ae>=e}function p(e){for(var t=v(e),n=t.length,r=n&&e.length,a=o.support,a=r&&u(r)&&(ce(e)||a.nonEnumStrings&&m(e)||a.nonEnumArgs&&d(e)),i=-1,s=[];++i<n;){var l=t[i];(a&&c(l,r)||K.call(e,l))&&s.push(l)}return s}function d(e){return u(r(e)?e.length:_)&&Z.call(e)==w||!1}function h(e){return r(e)&&"string"==typeof e.message&&Z.call(e)==E||!1}function f(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function g(e){return null==e?!1:Z.call(e)==k?ee.test(Q.call(e)):r(e)&&(z(e)?ee:j).test(e)||!1}function m(e){return"string"==typeof e||r(e)&&Z.call(e)==C||!1}function v(e){if(null==e)return[];f(e)||(e=Object(e));for(var t=e.length,n=o.support,t=t&&u(t)&&(ce(e)||n.nonEnumStrings&&m(e)||n.nonEnumArgs&&d(e))&&t||0,r=e.constructor,a=-1,r="function"==typeof r&&r.prototype||V,i=r===e,s=Array(t),l=t>0,p=n.enumErrorProps&&(e===U||e instanceof Error),h=n.enumPrototypes&&"function"==typeof e;++a<t;)s[a]=a+"";for(var g in e)h&&"prototype"==g||p&&("message"==g||"name"==g)||l&&c(g,t)||"constructor"==g&&(i||!K.call(e,g))||s.push(g);if(n.nonEnumShadows&&e!==V)for(t=e===G?C:e===U?E:Z.call(e),n=ie[t]||ie[S],t==S&&(r=V),t=D.length;t--;)g=D[t],a=n[g],i&&a||(a?!K.call(e,g):e[g]===r[g])||s.push(g);return s}function y(t){return(t=e(t))&&N.test(t)?t.replace(B,"\\$&"):t}function b(e){try{return e()}catch(e){return h(e)?e:Error(e)}}var _,w="[object Arguments]",E="[object Error]",k="[object Function]",S="[object Object]",C="[object String]",T=/\b__p\+='';/g,x=/\b(__p\+=)''\+/g,L=/(__e\(.*?\)|\b__t\))\+'';/g,M=/[&<>"'`]/g,O=RegExp(M.source),A=/<%=([\s\S]+?)%>/g,R=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,j=/^\[object .+?Constructor\]$/,I=/($^)/,B=/[.*+?^${}()|[\]\/\\]/g,N=RegExp(B.source),F=/\bthis\b/,P=/['\n\r\u2028\u2029\\]/g,D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},H={function:!0,object:!0},W={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Y=H[typeof window]&&window!==(this&&this.window)?window:this,$=H[typeof exports]&&exports&&!exports.nodeType&&exports,H=H[typeof module]&&module&&!module.nodeType&&module,X=$&&H&&"object"==typeof global&&global;!X||X.global!==X&&X.window!==X&&X.self!==X||(Y=X);var X=H&&H.exports===$&&$,z=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}(),J=Array.prototype,U=Error.prototype,V=Object.prototype,G=String.prototype,Q=Function.prototype.toString,K=V.hasOwnProperty,Z=V.toString,ee=RegExp("^"+y(Z).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=V.propertyIsEnumerable,ne=J.splice,re=g(re=Array.isArray)&&re,oe=g(oe=Object.keys)&&oe,ae=Math.pow(2,53)-1,ie={};ie["[object Array]"]=ie["[object Date]"]=ie["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ie["[object Boolean]"]=ie[C]={constructor:!0,toString:!0,valueOf:!0},ie[E]=ie[k]=ie["[object RegExp]"]={constructor:!0,toString:!0},ie[S]={constructor:!0},function(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}(D,function(e){for(var t in ie)if(K.call(ie,t)){var n=ie[t];n[e]=K.call(n,e)}});var se=o.support={};!function(e){function t(){this.x=1}var n={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var o in new t)r.push(o);se.argsTag=Z.call(arguments)==w,se.enumErrorProps=te.call(U,"message")||te.call(U,"name"),se.enumPrototypes=te.call(t,"prototype"),se.funcDecomp=!g(Y.WinRTError)&&F.test(function(){return this}),se.funcNames="string"==typeof Function.name,se.nonEnumStrings=!te.call("x",0),se.nonEnumShadows=!/valueOf/.test(r),se.spliceObjects=(ne.call(n,0,1),!n[0]),se.unindexedChars="xx"!="x"[0]+Object("x")[0];try{se.nonEnumArgs=!te.call(arguments,1)}catch(e){se.nonEnumArgs=!0}}(0,0),o.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:A,variable:"",imports:{_:o}},se.argsTag||(d=function(e){return u(r(e)?e.length:_)&&K.call(e,"callee")&&!te.call(e,"callee")||!1});var ce=re||function(e){return r(e)&&u(e.length)&&"[object Array]"==Z.call(e)||!1},le=oe?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||("function"==typeof e?o.support.enumPrototypes:n&&u(n))?p(e):f(e)?oe(e):[]}:p;o.keys=le,o.keysIn=v,o.attempt=b,o.escape=function(n){return(n=e(n))&&O.test(n)?n.replace(M,t):n},o.escapeRegExp=y,o.isArguments=d,o.isArray=ce,o.isError=h,o.isNative=g,o.isObject=f,o.isString=m,o.template=function(t,r,c){var u=o.templateSettings;c&&l(t,r,c)&&(r=c=null),t=e(t),r=i(i({},c||r),u,a),c=i(i({},r.imports),u.imports,a);var p,d,f=le(c),g=s(c,f),m=0;c=r.interpolate||I;var v="__p+='",y="sourceURL"in r?"//# sourceURL="+r.sourceURL+"\n":"";if(t.replace(RegExp((r.escape||I).source+"|"+c.source+"|"+(c===A?R:I).source+"|"+(r.evaluate||I).source+"|$","g"),function(e,r,o,a,i,s){return o||(o=a),v+=t.slice(m,s).replace(P,n),r&&(p=!0,v+="'+__e("+r+")+'"),i&&(d=!0,v+="';"+i+";\n__p+='"),o&&(v+="'+((__t=("+o+"))==null?'':__t)+'"),m=s+e.length,e}),v+="';",(r=r.variable)||(v="with(obj){"+v+"}"),v=(d?v.replace(T,""):v).replace(x,"$1").replace(L,"$1;"),v="function("+(r||"obj")+"){"+(r?"":"obj||(obj={});")+"var __t,__p=''"+(p?",__e=_.escape":"")+(d?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+v+"return __p}",r=b(function(){return Function(f,y+"return "+v).apply(_,g)}),r.source=v,h(r))throw r;return r},o.VERSION="3.1.0","function"==typeof define&&"object"==typeof define.amd&&define.amd?(Y._=o,define(function(){return o})):$&&H?X?(H.exports=o)._=o:$._=o:Y._=o}.call(this);var regPubMatch=/productNo(?:\.exact|\.raw)?(?=\:|$)/,regEmerge=/ ?emerge/g,regHidden=/ ?hidden/g,regLoad=/ ?loading/g,regOpened=/ ?opened/g,regFail=/ ?failed/g,regValidate=/ ?invalidated/g;String.prototype.toTitle=function(){return this.replace(/(?:\W?)\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},String.prototype.toPubName=function(){var e,t=/\s/g,n=0,r=[];return e=this.replace(/\d* ?[-_a-z]+[\s\.\-]*[0-9]+(?:-|\.)[0-9]+(?:_?sup[a-z]*)?/gi,function(e){return r.length>0&&/[\-\cI\v\0\f]$/m.test(r[n-1])?r[n-1]+=e.toUpperCase().replace(t,""):r.push(e.toUpperCase().replace(t,"")),n+=1,""}),{removed:e,extract:r}},CSSStyleSheet.prototype.addCSSRule=function(e,t,n){"insertRule"in this?this.insertRule(e+"{"+t+"}",n):"addRule"in this&&this.addRule(e,t,n)},window.downloader=function(e){var t=document.createElement("a"),n=e.href||e.getAttribute("href")||"";if(""===n)return!1;t.download=e.download||e.getAttribute("download"),t.href=n,t.target="_blank";try{t.click()}catch(e){try{window.open(n)}catch(e){window.location.href=n}}return!1};var months={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},app=App();app.resultTemplate=_.template('<div class="result<%= type %><%= gravitas %> clearfix" data-score="<%= score %>" data-pub="<%= fullPub %>"><% if ( type === " content" ) { %><div class="text clearfix"><% if ( parts && concatText ) { %><span class="combined"><%= concatText %><br/></span><span class="parts"><%  var i = 0, count = parts.length;for (; i < count; ++i) {if ( count > 1 || concatText.length > parts[0].length ) { %><q>...<%= parts[i] %>...</q><% } else { %><%= parts[0] %><% } %><% } %></span><% if ( count > 1 || concatText.length > parts[0].length ) { %><a href="#" class="reveal-text clickable">expand</a><% } %><% } else { %><span class="combined"><%= rawText %></span><span class="parts"></span><a href="#" class="reveal-text clickable">expand</a><% } %></div><div class="meta"><div class="details"><span class="number"><%= sub %></span><br/><% if ( details && details.chapter && details.chapterTitle ) { %><span class="chapter">Chapter <%= details.chapter %><br/><span class="title"><%= details.chapterTitle %></span></span><br/><% } if ( details && details.section && details.sectionTitle ) { %><span class="section">Section <%= details.section %><br/><span class="title"><%= details.sectionTitle %></span></span><br/><% } %></div><a class="info clickable" href="<%= url %>" title="<%= date %>" download="<%= fullPub %>.pdf" target="_blank"><span class="pub"><%= fullPub %></span><br/><span class="title"><%= title %></span></a></div><% } else { %><a class="info clickable" href="<%= url %>" title="<%= date %>" download="<%= fullPub %>.pdf" target="_blank"><span class="pub"><%= fullPub %></span><br/><span class="title"><%= title %></span></a><% } %></div>'),app.relatedTemplate=_.template('<li class="result doc<%= gravitas %>" data-score="<%= score %>" id="<%= key %>"><%= key %></li>'),app.revealText=function(e){var t,n=e.currentTarget||e.srcElement||e.target;return e.preventDefault(),t=n.getAttribute("data-opened"),"true"!==t?(swapClass(n.parentNode,"opened",regOpened),n.innerHTML="consolidate",n.setAttribute("data-opened","true")):(swapClass(n.parentNode,"",regOpened),n.innerHTML="expand",n.setAttribute("data-opened","false")),!1},app.infini=function(){var e,t;app.infiniScroll=!!this.checked,e=app.infiniScroll?"enabled":"disabled",t=app.infiniScroll?"Disable":"Enable",app.infiniLabel_.className=e,app.infiniLabel_.setAttribute("title",t+" infinite scroll"),e||this.removeAttribute("checked")},app.scrollWheeler=function(){fastdom.measure(function(){var e=(rootElement&&"number"==typeof rootElement.ScrollTop?rootElement:document.body).ScrollTop||window.pageYOffset,t=e-app.pos;app.infiniScroll===!0&&app.loading.now===!1&&app.loading.stillMore===!0&&t>0&&e>app.loading.currentHeight-1200&&(app.loading.now=!0,app.getContent()),app.pos=e})},app.searchStart=function(e){e&&e.preventDefault&&e.preventDefault();var t=this,n=app.query_.value.trim();return app.isFailure=!1,app.isDone=!1,n?(app.term=n,swapClass(app.loader_,"loading",regLoad),app.submitQuery("content","search",app.placeContent,app.placeMeta),!1):(app.queryInvalidated=!0,swapClass(app.query_,"invalidated",regValidate),t.message_.innerHTML="You gotta type something first.",t.query_.focus(),!1)},app.handleFocus=function(){return app.queryInvalidated!==!0?!1:void 0},app.handleInput=function(e){return 13===e.which&&app.isSearchBoxOpen===!0?(app.searchStart(e),!1):void(app.queryInvalidated===!0&&13!==e.which&&(app.queryInvalidated=!1,swapClass(app.query_,"",regValidate),app.message_.innerHTML=""))},app.organizeData=function(e,t,n){var r,o,a,i,s,c,l,u,p,d={};return!e._source&&e.key&&e.score?(r=t.indexOf(e.score),o=r>-1?" match-"+r:"",app.colors[e.key]=r,d={key:e.key,url:document.location.protocol+"//that.pub/get/"+e.key.toLowerCase()+".pdf",score:e.score,gravitas:n<e.score||e.score>=1?" pretty"+o:" boring"+o}):e._source.text&&(a=e._source.number,c=e.highlight["text.english2"],s=e._source.text,i=e._source.productNo,u=Object.keys(e.highlight),p="form"!==e._type?".pdf":".xfdl",regPubMatch.test(u.join(":"))&&(i=e.highlight["productNo.exact"]||e.highlight["productNo.raw"]||e.highlight.productNo,i=i.shift()),l=e._source.releaseDate?e._source.releaseDate.substring(6,8)+" "+months[e._source.releaseDate.substring(4,6)]+" "+e._source.releaseDate.substring(0,4):e._source.publishedDate.substring(0,2)+" "+months[e._source.publishedDate.substring(2,4)]+" "+e._source.publishedDate.substring(4,8),/chapter|section/.test(e._type)&&7==e._type.length&&(a=e._type.toTitle()+" "+e._source.number),r=app.colors[e._source.productNo||e._source.pubName],o=r&&"number"==typeof r&&(r>=0||5>r)?" match-"+r:"",d={score:e._score,gravitas:n<e.score||e.score>=1?" pretty"+o:" boring"+o,date:l,url:document.location.protocol+"//that.pub/get"+e._source.productNo.toLowerCase()+p,fullPub:i,title:e.highlight.title||e._source.title||null,rawTitle:e._source.title,sub:s?a:"",details:{chapter:e._source.chapter&&e._source.chapter.number||null,chapterTitle:e.highlight["chapter.title"]||e._source.chapter&&e._source.chapter.title||null,section:e._source.section&&e._source.section.number||null,sectionTitle:e.highlight["section.title"]||e._source.section&&e._source.section.title||null},rawText:s,concatText:e.highlight.text&&e.highlight.text[0]||null,parts:Array.isArray(c)?c:null,fileFormat:p,type:s?" content":" doc"}),d||null},app.renderResults=function(e,t){var n,r,o,a="",i={},s=t.length,c=0;for("results"===e?(r=this.resultTemplate,o=this.scoresContent,n=upperOutlier(o)):(r=this.relatedTemplate,o=this.scoresRelatives,n=upperOutlier(o));s>c;++c)i=this.organizeData(t[c],o,n),a+=r(i);return a},app.searchBoxToggle=function(e){"open"===e&&(this.query_.value=this.term,this.searchIcon_.style.display="none",this.xIcon_.style.display="",swapClass(this.searchWrap_,"emerge",regEmerge),this.isFailure===!0&&swapClass(this.searchWrap_,"failed",regFail),this.isSearchBoxOpen=!0,this.infiniScroll=!1),"close"===e&&(swapClass(this.searchWrap_,"",regEmerge),swapClass(this.searchWrap_,"",regFail),this.infiniScroll=this.infiniScroll_?this.infiniScroll_.checked||!!this.infiniScroll_.checked:!0,this.term=this.query_.value.trim(),this.searchIcon_.style.display="",this.xIcon_.style.display="none",this.message_.innerHTML="",this.isSearchBoxOpen=!1)},app.closeModal=function(e){27===e.which&&app.isSearchBoxOpen===!0&&app.isFailure===!1&&(e.preventDefault(),app.searchBoxToggle("close"))},app.handleResponse=function(e,t){var n,r,o,a=this,i=JSON.parse(e.responseText),s=i[0]||null,c=i[1]||null,l=0,u=0;if(this.isDone=!0,s&&0===s.hits.total&&c&&0===c.hits.total)return this.isFailure=!0,this.infiniScroll=!1,document.cookie="placeContent=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="placeMeta=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",thit.message_.innerHTML="Your search returned no results.  Give 'er another go.",swapClass(this.loader_,"",regLoad),this.xIcon_.style.display="none",swapClass(this.searchWrap_,"failed",regFail),!1;if(this.isFailure=!1,n=new Date(Date.now()+6e4),n=n.toUTCString(),a.resetSearch&&clearTimeout(a.resetSearch),a.resetSearch=setTimeout(function(){swapClass(a.moreContent_,"hidden",regHidden),a.loading.stillMore=!1},6e4),s){var p=s.hits.hits.length;if(this.placeContent=s._scroll_id,document.cookie="placeContent="+this.placeContent+"; expires="+n,"more"!==t){var d=s.aggregations.related_doc.buckets.length;for(window.scroll(0,0),u=0;p>u;++u)this.scoresContent[u]=s.hits.hits[u]._score;for(u=0;d>u;++u)this.scoresRelatives[u]=s.aggregations.related_doc.buckets[u].score;fastdom.mutate(function(){a.term_.innerHTML=a.term,a.count_.innerHTML=s.hits.hits.length,a.total_.innerHTML=s.hits.total,a.related_.innerHTML=a.renderResults("relatives",s.aggregations.related_doc.buckets),a.results_.innerHTML=a.renderResults("results",s.hits.hits)})}else{for(u=0;p>u;++u)this.scoresContent.push(s.hits.hits[u]._score);fastdom.mutate(function(){a.count_.innerHTML=a.scoresContent.length,a.results_.innerHTML+=a.renderResults("results",s.hits.hits)})}fastdom.measure(function(){a.relatedRect=a.related_.getBoundingClientRect(),a.bodyRect=document.body.getBoundingClientRect(),a.stickyBarPosition=Math.abs(a.relatedRect.top)+Math.abs(a.bodyRect.top)+Math.abs(a.relatedRect.height)}),fastdom.mutate(function(){for(r=a.results_.querySelectorAll(".reveal-text"),o=r.length,l=0;o>l;++l)addEvent(r[l],"click",a.revealText)}),s.hits.hits.length<20?(this.loading.stillMore=!1,swapClass(this.moreContent_,"hidden",regHidden)):(this.loading.stillMore=!0,swapClass(this.moreContent_,"",regHidden))}c&&(this.placeMeta=c._scroll_id,document.cookie="placeMeta="+this.placeMeta+"; expires="+n),fastdom.measure(function(){a.resultsRect=a.results_.getBoundingClientRect(),a.loading.currentHeight=Math.abs(a.resultsRect.height),a.loading.now=!1}),this.searchBoxToggle("close"),swapClass(this.loader_,"",regLoad)},app.submitQuery=function(e,t,n,r){var o=this,a=new XMLHttpRequest,i=this.term,s=document.location.protocol+"//that.pub/find/"+e+"/"+t,c={t:querySetup(i),g:n,s:r},l=JSON.stringify(c);a.onreadystatechange=function(){4===a.readyState&&200===a.status&&o.handleResponse(a,t)},a.open("POST",s,!0),a.setRequestHeader("Content-type","application/json"),a.send(l)},addEvent(app.send_,"click",app.searchStart),addEvent(app.query_,"focus",app.handleFocus),addEvent(app.query_,"keypress",app.handleInput),addEvent(document,"keyup",app.closeModal),addEvent(app.moreContent_,"click",function(e){e&&e.preventDefault&&e.preventDefault(),e.stopPropagation(),app.getContent()}),addEvent(app.searchRestore_,"click",function(e){return e.preventDefault(),app.isSearchBoxOpen===!0&&app.isDone===!0&&app.isFailure!==!0?app.searchBoxToggle("close"):(app.searchBoxToggle("open"),app.query_.value=app.term,app.query_.focus()),!1}),addEvent(app.infiniScroll_,"change",app.infini),addEvent(window,"scroll",app.scrollWheeler),addEvent(window,"load",function(){app.isSearchBoxOpen=!0,app.query_.focus()}),addEvent(document,"DOMContentLoaded",function(){FastClick.attach(document.body)});
//# sourceMappingURL=.tmp/js/script.js.map</script></body></html>